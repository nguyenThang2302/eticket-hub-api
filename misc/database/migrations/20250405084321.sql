-- Create "categories" table
CREATE TABLE `categories` (`id` varchar(16) NOT NULL COMMENT "Unique identifier for the category", `name` varchar(255) NOT NULL COMMENT "Name of the category", `lang_code` varchar(5) NULL COMMENT "Language code associated with the category", `created_at` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT "Timestamp when the category was created", `updated_at` datetime NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT "Timestamp when the category was last updated", `deleted_at` datetime NULL COMMENT "Timestamp when the category was deleted", `created_by` varchar(16) NULL COMMENT "Identifier of the user who created the category", `updated_by` varchar(16) NULL COMMENT "Identifier of the user who last updated the category", `deleted_by` varchar(16) NULL COMMENT "Identifier of the user who deleted the category", PRIMARY KEY (`id`), INDEX `fk_categories_languages` (`lang_code`), CONSTRAINT `fk_categories_languages` FOREIGN KEY (`lang_code`) REFERENCES `languages` (`code`) ON UPDATE CASCADE ON DELETE SET NULL) CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci COMMENT "Table for storing category information";
-- Modify "events" table
ALTER TABLE `events` DROP COLUMN `payment_method_id`, DROP COLUMN `type`, ADD COLUMN `category_id` varchar(16) NULL COMMENT "Identifier of the category associated with the event", ADD INDEX `fk_events_categories` (`category_id`), ADD CONSTRAINT `fk_events_categories` FOREIGN KEY (`category_id`) REFERENCES `categories` (`id`) ON UPDATE CASCADE ON DELETE SET NULL;
